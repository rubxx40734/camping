(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2c683866"],{"395d":function(t,e,c){"use strict";c.r(e);var s=c("7a23"),o=c("b7d7"),l=c.n(o);const a=Object(s["h"])("div",{class:"loadingio-spinner-spinner-a5v3i0pye0a"},[Object(s["h"])("div",{class:"ldio-ifotaor80h"},[Object(s["h"])("div"),Object(s["h"])("div"),Object(s["h"])("div"),Object(s["h"])("div"),Object(s["h"])("div"),Object(s["h"])("div"),Object(s["h"])("div"),Object(s["h"])("div"),Object(s["h"])("div"),Object(s["h"])("div"),Object(s["h"])("div"),Object(s["h"])("div")])],-1),i={key:0,class:"container mt-7 d-flex flex-column"},n=Object(s["i"])('<div class="row d-flex justify-content-center mb-7"><div class="col-12 col-md-8 d-flex align-items-center justify-content-between"><div class="d-flex flex-column align-items-center"><div class="circle step1"></div><p class="fw-bold mt-3">確認購物車</p></div><div class="progressLine d-none d-md-block"></div><div class="step step d-flex flex-column align-items-center"><div class="circle"></div><p class="fw-bold mt-3">訂購資訊</p></div><div class="progressLine d-none d-md-block"></div><div class="step step d-flex flex-column align-items-center"><div class="circle"></div><p class="fw-bold mt-3">確認結帳</p></div><div class="progressLine d-none d-md-block"></div><div class="step step d-flex flex-column align-items-center"><div class="circle"></div><p class="fw-bold mt-3">訂購成功</p></div></div></div>',1),d={class:"d-none d-md-block"},b={class:"table table-hover align-middle"},r=Object(s["h"])("thead",null,[Object(s["h"])("tr",null,[Object(s["h"])("th",{scope:"col"},"商品圖片"),Object(s["h"])("th",{scope:"col"},"商品名稱"),Object(s["h"])("th",{scope:"col"},"數量"),Object(s["h"])("th",{scope:"col"},"售價"),Object(s["h"])("th",{scope:"col"},"小計"),Object(s["h"])("th",{scope:"col"},"操作")])],-1),u=["src"],p=["onUpdate:modelValue","onChange","disabled"],h={key:0,class:"text-primary fw-bold"},j=["onClick"],O=Object(s["h"])("i",{class:"bi bi-trash3"},null,-1),m=[O],g={class:"col-6"},f=["src"],v={class:"col-6"},y={class:"mb-2 fw-bold"},x={class:"input-group mb-3"},w=Object(s["h"])("span",{class:"input-group-text",id:"basic-addon1"},"數量",-1),k=["onUpdate:modelValue","onChange","disabled"],C={class:"mb-2"},$={class:"mb-2"},I={key:0,class:"text-primary fw-bold"},_=["onClick"],N=Object(s["h"])("i",{class:"bi bi-trash3"},null,-1),T=[N],P={class:"fs-4 text-end mt-5"},S={key:0,class:"fs-2 fw-bold text-primary text-end mt-5 mb-5"},L={key:1,class:"text-danger text-end fw-bold"},U={class:"input-group mb-3 text-end couponWidth align-self-end mt-3"},M={key:1,class:"container mt-7 d-flex flex-column align-items-center bg-secondary py-7 mb-7"},R=Object(s["h"])("h1",{class:"fw-bold text-center mb-5"},"購物車是空的喔",-1),q=Object(s["h"])("img",{src:l.a,class:"card-img bgCover w-100 mb-5 h-420",alt:""},null,-1),F={class:"container mb-7 mt-7"},V=Object(s["h"])("h3",{class:"text-success fw-bold text-center mb-7 fs-2"},"猜您喜歡...",-1),D={class:"row"},E=["src","onClick"],J={class:"text-success text-center mb-3"},A={class:"d-md-flex d-block justify-content-between"},B={class:"text-success text-center mb-3 d-none d-md-block text-center"},Q={class:"text-success text-center mb-3"},W={class:"container mb-7 text-center"},z={type:"button",class:"btn btn-outline-warning me-3"},G=["disabled"],H=Object(s["i"])('<div class="connection bg-secondary p-6 d-flex flex-column align-items-center mb-5"><div class="phone d-xl-flex d-block justify-content-between mb-4"><p class="text-success fw-bold me-2">| 客服時間： Mon - Fri 09:30-12:00 13:00-17:30（例假日官網客服無法及時回覆，敬請見諒）</p><p class="text-success fw-bold me-2">| 客服專線：02-2999-9520</p><p class="text-success fw-bold me-2">| 信箱：bill.cheng#taidoc.com.tw</p></div><div class="community d-flex"><a href="#" class="d-block"><i class="bi bi-facebook fs-3 me-3"></i></a><a href="#" class="d-block"><i class="bi bi-instagram fs-3 me-3"></i></a><a href="#" class="d-block"><i class="bi bi-line fs-3 me-3"></i></a><a href="#" class="d-block"><i class="bi bi-youtube fs-3"></i></a></div></div><p class="text-center text-success">Copyright © 2023 Coleman Taiwan All Rights Reserved.</p><p class="text-center text-success mb-4">此網站為練習作品，無任何商業用途</p>',3);function K(t,e,c,o,l,O){const N=Object(s["F"])("Loading"),K=Object(s["F"])("FontNavbar"),X=Object(s["F"])("router-link");return Object(s["y"])(),Object(s["g"])(s["a"],null,[Object(s["k"])(N,{active:l.isLoading},{default:Object(s["R"])(()=>[a]),_:1},8,["active"]),Object(s["k"])(K,{ref:"fontnav"},null,512),l.carts.total?(Object(s["y"])(),Object(s["g"])("div",i,[n,Object(s["h"])("div",d,[Object(s["h"])("table",b,[r,Object(s["h"])("tbody",null,[(Object(s["y"])(!0),Object(s["g"])(s["a"],null,Object(s["D"])(l.carts.carts,e=>(Object(s["y"])(),Object(s["g"])("tr",{key:e.id},[Object(s["h"])("th",null,[Object(s["h"])("img",{src:e.product.imageUrl,alt:"",class:"bgCover card-img smimg"},null,8,u)]),Object(s["h"])("td",null,Object(s["I"])(e.product.title),1),Object(s["h"])("td",null,[Object(s["S"])(Object(s["h"])("input",{type:"number",class:"form-control w-50",min:"1","onUpdate:modelValue":t=>e.qty=t,onChange:t=>O.updateCart(e),disabled:l.loadingItem==e.product_id},null,40,p),[[s["M"],e.qty]])]),Object(s["h"])("td",null,Object(s["I"])(t.$filter.currency(e.product.price)),1),Object(s["h"])("td",null,[Object(s["h"])("p",null,"NT$ "+Object(s["I"])(t.$filter.currency(e.total)),1),l.couponStatus?(Object(s["y"])(),Object(s["g"])("p",h,"折扣價 NT$ "+Object(s["I"])(t.$filter.currency(e.final_total)),1)):Object(s["f"])("",!0)]),Object(s["h"])("td",null,[Object(s["h"])("button",{type:"button",class:"btn btn-danger",onClick:t=>O.deleteProduct(e.id)},m,8,j)])]))),128))])])]),(Object(s["y"])(!0),Object(s["g"])(s["a"],null,Object(s["D"])(l.carts.carts,e=>(Object(s["y"])(),Object(s["g"])("div",{class:"row border d-flex align-items-center mb-5 d-block d-md-none",key:e.id},[Object(s["h"])("div",g,[Object(s["h"])("img",{src:e.product.imageUrl,alt:"",class:"bgCover card-img phoneimg"},null,8,f)]),Object(s["h"])("div",v,[Object(s["h"])("p",y,Object(s["I"])(e.product.title),1),Object(s["h"])("div",x,[w,Object(s["S"])(Object(s["h"])("input",{type:"number",class:"form-control",min:"1","onUpdate:modelValue":t=>e.qty=t,onChange:t=>O.updateCart(e),disabled:l.loadingItem==e.product_id},null,40,k),[[s["M"],e.qty]])]),Object(s["h"])("p",C,"售價: NT$ "+Object(s["I"])(t.$filter.currency(e.product.price)),1),Object(s["h"])("p",$,"小計: NT$ "+Object(s["I"])(t.$filter.currency(e.total)),1),l.couponStatus?(Object(s["y"])(),Object(s["g"])("p",I,"折扣價 NT$ "+Object(s["I"])(t.$filter.currency(e.final_total)),1)):Object(s["f"])("",!0),Object(s["h"])("button",{type:"button",class:"btn btn-danger",onClick:t=>O.deleteProduct(e.id)},T,8,_)])]))),128)),Object(s["h"])("h1",P,"總金額 NT$ "+Object(s["I"])(t.$filter.currency(l.carts.total)),1),l.couponStatus?(Object(s["y"])(),Object(s["g"])("h1",S,"折扣價 NT$ "+Object(s["I"])(t.$filter.currency(l.carts.final_total)),1)):Object(s["f"])("",!0),l.couponStatus?Object(s["f"])("",!0):(Object(s["y"])(),Object(s["g"])("p",L,Object(s["I"])(l.couponMessage),1)),Object(s["h"])("div",U,[Object(s["S"])(Object(s["h"])("input",{type:"text",class:"form-control",placeholder:"輸入折扣碼","onUpdate:modelValue":e[0]||(e[0]=t=>l.couponCode=t),"aria-label":"Example text with button addon","aria-describedby":"button-addon1"},null,512),[[s["M"],l.couponCode]]),Object(s["h"])("button",{class:"btn btn-outline-primary",onClick:e[1]||(e[1]=(...t)=>O.sendCoupon&&O.sendCoupon(...t)),type:"button",id:"button-addon1"},"確定")])])):(Object(s["y"])(),Object(s["g"])("div",M,[R,q,Object(s["k"])(X,{to:"/fontproducts",class:"btn btn-primary"},{default:Object(s["R"])(()=>[Object(s["j"])("購物去")]),_:1})])),Object(s["h"])("div",F,[V,Object(s["h"])("div",D,[(Object(s["y"])(!0),Object(s["g"])(s["a"],null,Object(s["D"])(l.hotProducts,e=>(Object(s["y"])(),Object(s["g"])("div",{class:"col-lg-3 col-12 col-md-6 box border border-3 px-5 mb-5 mb-md-0",key:e.id},[Object(s["h"])("img",{src:e.imageUrl,onClick:t=>O.gooneproduct(e.id),alt:"newProduct",class:"bgCoverBottom card-img h-200 mb-5 cover-fit w-100"},null,8,E),Object(s["h"])("p",J,Object(s["I"])(e.title),1),Object(s["h"])("div",A,[Object(s["h"])("p",B,[Object(s["h"])("del",null,"NT $"+Object(s["I"])(t.$filter.currency(e.origin_price)),1)]),Object(s["h"])("p",Q,"NT $"+Object(s["I"])(t.$filter.currency(e.price)),1)])]))),128))])]),Object(s["h"])("div",W,[Object(s["h"])("button",z,[Object(s["k"])(X,{to:"/fontproducts",class:"nav-link fw-bold"},{default:Object(s["R"])(()=>[Object(s["j"])("繼續購物")]),_:1})]),Object(s["h"])("button",{type:"button",class:"btn btn-outline-primary",disabled:!l.carts.total},[Object(s["k"])(X,{to:"/buyform",class:"nav-link fw-bold"},{default:Object(s["R"])(()=>[Object(s["j"])("填寫訂購資訊")]),_:1})],8,G)]),H],64)}c("14d9");var X=c("fbde"),Y={data(){return{hotProducts:[],carts:{},productQty:0,loadingItem:"",isLoading:!1,couponCode:"",couponStatus:!1,couponMessage:""}},components:{FontNavbar:X["a"]},methods:{async getCartlist(){this.isLoading=!0;const t="https://vue3-course-api.hexschool.io/api/rhea0309/cart",e=await this.axios.get(t);this.$refs.fontnav.getCartlist(),console.log(e.data.data),this.isLoading=!1,this.carts=e.data.data},async gethotProduct(){const t="https://vue3-course-api.hexschool.io/api/rhea0309/products/all",e=await this.axios.get(t),c=e.data.products;c.forEach(t=>{"熱銷"===t.productRule5&&this.hotProducts.push(t)})},gooneproduct(t){console.log(t),this.$router.push("oneproduct/"+t)},async updateCart(t){const e="https://vue3-course-api.hexschool.io/api/rhea0309/cart/"+t.id;this.loadingItem=t.product_id;const c={product_id:t.product_id,qty:t.qty},s=await this.axios.put(e,{data:c});console.log(s),this.loadingItem="",this.getCartlist()},async deleteProduct(t){const e="https://vue3-course-api.hexschool.io/api/rhea0309/cart/"+t,c=await this.axios.delete(e);console.log(c),this.getCartlist()},async sendCoupon(){const t="https://vue3-course-api.hexschool.io/api/rhea0309/coupon",e={code:this.couponCode},c=await this.axios.post(t,{data:e});console.log(c),this.couponStatus=c.data.success,this.couponMessage=c.data.message,this.getCartlist()}},mounted(){this.getCartlist(),this.gethotProduct()}},Z=(c("cd68"),c("6b0d")),tt=c.n(Z);const et=tt()(Y,[["render",K]]);e["default"]=et},"9a94":function(t,e,c){},b7d7:function(t,e,c){t.exports=c.p+"img/cart.14ef2652.jpg"},cd68:function(t,e,c){"use strict";c("9a94")}}]);
//# sourceMappingURL=chunk-2c683866.dd1cb225.js.map