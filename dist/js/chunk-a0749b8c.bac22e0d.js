(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a0749b8c"],{"0919":function(t,e,c){},"395d":function(t,e,c){"use strict";c.r(e);var s=c("7a23");const o=Object(s["h"])("div",{class:"loadingio-spinner-spinner-a5v3i0pye0a"},[Object(s["h"])("div",{class:"ldio-ifotaor80h"},[Object(s["h"])("div"),Object(s["h"])("div"),Object(s["h"])("div"),Object(s["h"])("div"),Object(s["h"])("div"),Object(s["h"])("div"),Object(s["h"])("div"),Object(s["h"])("div"),Object(s["h"])("div"),Object(s["h"])("div"),Object(s["h"])("div"),Object(s["h"])("div")])],-1),l={key:0,class:"container mt-7 d-flex flex-column"},a=Object(s["i"])('<div class="row d-flex justify-content-center mb-7"><div class="col-12 col-md-8 d-flex align-items-center justify-content-between"><div class="d-flex flex-column align-items-center"><div class="circle step1"></div><p class="fw-bold mt-3">確認購物車</p></div><div class="progressLine d-none d-md-block"></div><div class="step step d-flex flex-column align-items-center"><div class="circle"></div><p class="fw-bold mt-3">訂購資訊</p></div><div class="progressLine d-none d-md-block"></div><div class="step step d-flex flex-column align-items-center"><div class="circle"></div><p class="fw-bold mt-3">確認結帳</p></div><div class="progressLine d-none d-md-block"></div><div class="step step d-flex flex-column align-items-center"><div class="circle"></div><p class="fw-bold mt-3">訂購成功</p></div></div></div>',1),i={class:"d-none d-md-block"},n={class:"table table-hover align-middle"},d=Object(s["h"])("thead",null,[Object(s["h"])("tr",null,[Object(s["h"])("th",{scope:"col"},"商品圖片"),Object(s["h"])("th",{scope:"col"},"商品名稱"),Object(s["h"])("th",{scope:"col"},"數量"),Object(s["h"])("th",{scope:"col"},"售價"),Object(s["h"])("th",{scope:"col"},"小計"),Object(s["h"])("th",{scope:"col"},"操作")])],-1),b=["src"],r=["onUpdate:modelValue","onChange","disabled"],u={key:0,class:"text-primary fw-bold"},p=["onClick"],h=Object(s["h"])("i",{class:"bi bi-trash3"},null,-1),j=[h],O={class:"col-6"},m=["src"],g={class:"col-6"},f={class:"mb-2 fw-bold"},v={class:"input-group mb-3"},y=Object(s["h"])("span",{class:"input-group-text",id:"basic-addon1"},"數量",-1),x=["onUpdate:modelValue","onChange","disabled"],w={class:"mb-2"},k={class:"mb-2"},C={key:0,class:"text-primary fw-bold"},$=["onClick"],I=Object(s["h"])("i",{class:"bi bi-trash3"},null,-1),_=[I],N={class:"fs-4 text-end mt-5"},T={key:0,class:"fs-2 fw-bold text-primary text-end mt-5 mb-5"},P={key:1,class:"text-danger text-end fw-bold"},S={class:"input-group mb-3 text-end couponWidth align-self-end mt-3"},L={key:1,class:"container mt-7 d-flex flex-column align-items-center bg-secondary py-7 mb-7"},U=Object(s["h"])("h1",{class:"fw-bold text-center mb-5"},"購物車是空的喔",-1),M=Object(s["h"])("img",{src:"https://youxiaaa.github.io/paixie/img/light.f207cc8b.jpeg",class:"card-img bgCover w-100 mb-5 h-420",alt:""},null,-1),R={class:"container mb-7 mt-7"},q=Object(s["h"])("h3",{class:"text-success fw-bold text-center mb-7 fs-2"},"猜您喜歡...",-1),F={class:"row"},V=["src","onClick"],D={class:"text-success text-center mb-3"},E={class:"d-md-flex d-block justify-content-between"},J={class:"text-success text-center mb-3 d-none d-md-block text-center"},A={class:"text-success text-center mb-3"},B={class:"container mb-7 text-center"},Q={type:"button",class:"btn btn-outline-warning me-3"},W=["disabled"],z=Object(s["i"])('<div class="connection bg-secondary p-6 d-flex flex-column align-items-center mb-5"><div class="phone d-xl-flex d-block justify-content-between mb-4"><p class="text-success fw-bold me-2">| 客服時間： Mon - Fri 09:30-12:00 13:00-17:30（例假日官網客服無法及時回覆，敬請見諒）</p><p class="text-success fw-bold me-2">| 客服專線：02-2999-9520</p><p class="text-success fw-bold me-2">| 信箱：bill.cheng#taidoc.com.tw</p></div><div class="community d-flex"><a href="#" class="d-block"><i class="bi bi-facebook fs-3 me-3"></i></a><a href="#" class="d-block"><i class="bi bi-instagram fs-3 me-3"></i></a><a href="#" class="d-block"><i class="bi bi-line fs-3 me-3"></i></a><a href="#" class="d-block"><i class="bi bi-youtube fs-3"></i></a></div></div><p class="text-center text-success">Copyright © 2023 Coleman Taiwan All Rights Reserved.</p><p class="text-center text-success mb-4">此網站為練習作品，無任何商業用途</p>',3);function G(t,e,c,h,I,G){const H=Object(s["F"])("Loading"),K=Object(s["F"])("FontNavbar"),X=Object(s["F"])("router-link");return Object(s["y"])(),Object(s["g"])(s["a"],null,[Object(s["k"])(H,{active:I.isLoading},{default:Object(s["R"])(()=>[o]),_:1},8,["active"]),Object(s["k"])(K,{ref:"fontnav"},null,512),I.carts.total?(Object(s["y"])(),Object(s["g"])("div",l,[a,Object(s["h"])("div",i,[Object(s["h"])("table",n,[d,Object(s["h"])("tbody",null,[(Object(s["y"])(!0),Object(s["g"])(s["a"],null,Object(s["D"])(I.carts.carts,e=>(Object(s["y"])(),Object(s["g"])("tr",{key:e.id},[Object(s["h"])("th",null,[Object(s["h"])("img",{src:e.product.imageUrl,alt:"",class:"bgCover card-img smimg"},null,8,b)]),Object(s["h"])("td",null,Object(s["I"])(e.product.title),1),Object(s["h"])("td",null,[Object(s["S"])(Object(s["h"])("input",{type:"number",class:"form-control w-50",min:"1","onUpdate:modelValue":t=>e.qty=t,onChange:t=>G.updateCart(e),disabled:I.loadingItem==e.product_id},null,40,r),[[s["M"],e.qty]])]),Object(s["h"])("td",null,Object(s["I"])(t.$filter.currency(e.product.price)),1),Object(s["h"])("td",null,[Object(s["h"])("p",null,"NT$ "+Object(s["I"])(t.$filter.currency(e.total)),1),I.couponStatus?(Object(s["y"])(),Object(s["g"])("p",u,"折扣價 NT$ "+Object(s["I"])(t.$filter.currency(e.final_total)),1)):Object(s["f"])("",!0)]),Object(s["h"])("td",null,[Object(s["h"])("button",{type:"button",class:"btn btn-danger",onClick:t=>G.deleteProduct(e.id)},j,8,p)])]))),128))])])]),(Object(s["y"])(!0),Object(s["g"])(s["a"],null,Object(s["D"])(I.carts.carts,e=>(Object(s["y"])(),Object(s["g"])("div",{class:"row border d-flex align-items-center mb-5 d-block d-md-none",key:e.id},[Object(s["h"])("div",O,[Object(s["h"])("img",{src:e.product.imageUrl,alt:"",class:"bgCover card-img phoneimg"},null,8,m)]),Object(s["h"])("div",g,[Object(s["h"])("p",f,Object(s["I"])(e.product.title),1),Object(s["h"])("div",v,[y,Object(s["S"])(Object(s["h"])("input",{type:"number",class:"form-control",min:"1","onUpdate:modelValue":t=>e.qty=t,onChange:t=>G.updateCart(e),disabled:I.loadingItem==e.product_id},null,40,x),[[s["M"],e.qty]])]),Object(s["h"])("p",w,"售價: NT$ "+Object(s["I"])(t.$filter.currency(e.product.price)),1),Object(s["h"])("p",k,"小計: NT$ "+Object(s["I"])(t.$filter.currency(e.total)),1),I.couponStatus?(Object(s["y"])(),Object(s["g"])("p",C,"折扣價 NT$ "+Object(s["I"])(t.$filter.currency(e.final_total)),1)):Object(s["f"])("",!0),Object(s["h"])("button",{type:"button",class:"btn btn-danger",onClick:t=>G.deleteProduct(e.id)},_,8,$)])]))),128)),Object(s["h"])("h1",N,"總金額 NT$ "+Object(s["I"])(t.$filter.currency(I.carts.total)),1),I.couponStatus?(Object(s["y"])(),Object(s["g"])("h1",T,"折扣價 NT$ "+Object(s["I"])(t.$filter.currency(I.carts.final_total)),1)):Object(s["f"])("",!0),I.couponStatus?Object(s["f"])("",!0):(Object(s["y"])(),Object(s["g"])("p",P,Object(s["I"])(I.couponMessage),1)),Object(s["h"])("div",S,[Object(s["S"])(Object(s["h"])("input",{type:"text",class:"form-control",placeholder:"輸入折扣碼","onUpdate:modelValue":e[0]||(e[0]=t=>I.couponCode=t),"aria-label":"Example text with button addon","aria-describedby":"button-addon1"},null,512),[[s["M"],I.couponCode]]),Object(s["h"])("button",{class:"btn btn-outline-primary",onClick:e[1]||(e[1]=(...t)=>G.sendCoupon&&G.sendCoupon(...t)),type:"button",id:"button-addon1"},"確定")])])):(Object(s["y"])(),Object(s["g"])("div",L,[U,M,Object(s["k"])(X,{to:"/fontproducts",class:"btn btn-primary"},{default:Object(s["R"])(()=>[Object(s["j"])("購物去")]),_:1})])),Object(s["h"])("div",R,[q,Object(s["h"])("div",F,[(Object(s["y"])(!0),Object(s["g"])(s["a"],null,Object(s["D"])(I.hotProducts,e=>(Object(s["y"])(),Object(s["g"])("div",{class:"col-lg-3 col-12 col-md-6 box border border-3 px-5 mb-5 mb-md-0",key:e.id},[Object(s["h"])("img",{src:e.imageUrl,onClick:t=>G.gooneproduct(e.id),alt:"newProduct",class:"bgCoverBottom card-img h-200 mb-5 cover-fit w-100"},null,8,V),Object(s["h"])("p",D,Object(s["I"])(e.title),1),Object(s["h"])("div",E,[Object(s["h"])("p",J,[Object(s["h"])("del",null,"NT $"+Object(s["I"])(t.$filter.currency(e.origin_price)),1)]),Object(s["h"])("p",A,"NT $"+Object(s["I"])(t.$filter.currency(e.price)),1)])]))),128))])]),Object(s["h"])("div",B,[Object(s["h"])("button",Q,[Object(s["k"])(X,{to:"/fontproducts",class:"nav-link fw-bold"},{default:Object(s["R"])(()=>[Object(s["j"])("繼續購物")]),_:1})]),Object(s["h"])("button",{type:"button",class:"btn btn-outline-primary",disabled:!I.carts.total},[Object(s["k"])(X,{to:"/buyform",class:"nav-link fw-bold"},{default:Object(s["R"])(()=>[Object(s["j"])("填寫訂購資訊")]),_:1})],8,W)]),z],64)}c("14d9");var H=c("fbde"),K={data(){return{hotProducts:[],carts:{},productQty:0,loadingItem:"",isLoading:!1,couponCode:"",couponStatus:!1,couponMessage:""}},components:{FontNavbar:H["a"]},methods:{async getCartlist(){this.isLoading=!0;const t="https://vue3-course-api.hexschool.io/api/rhea0309/cart",e=await this.axios.get(t);this.$refs.fontnav.getCartlist(),console.log(e.data.data),this.isLoading=!1,this.carts=e.data.data},async gethotProduct(){const t="https://vue3-course-api.hexschool.io/api/rhea0309/products/all",e=await this.axios.get(t),c=e.data.products;c.forEach(t=>{"熱銷"===t.productRule5&&this.hotProducts.push(t)})},gooneproduct(t){console.log(t),this.$router.push("oneproduct/"+t)},async updateCart(t){const e="https://vue3-course-api.hexschool.io/api/rhea0309/cart/"+t.id;this.loadingItem=t.product_id;const c={product_id:t.product_id,qty:t.qty},s=await this.axios.put(e,{data:c});console.log(s),this.loadingItem="",this.getCartlist()},async deleteProduct(t){const e="https://vue3-course-api.hexschool.io/api/rhea0309/cart/"+t,c=await this.axios.delete(e);console.log(c),this.getCartlist()},async sendCoupon(){const t="https://vue3-course-api.hexschool.io/api/rhea0309/coupon",e={code:this.couponCode},c=await this.axios.post(t,{data:e});console.log(c),this.couponStatus=c.data.success,this.couponMessage=c.data.message,this.getCartlist()}},mounted(){this.getCartlist(),this.gethotProduct()}},X=(c("ba9e"),c("6b0d")),Y=c.n(X);const Z=Y()(K,[["render",G]]);e["default"]=Z},ba9e:function(t,e,c){"use strict";c("0919")}}]);
//# sourceMappingURL=chunk-a0749b8c.bac22e0d.js.map